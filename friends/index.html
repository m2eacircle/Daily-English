<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Friends — Daily English</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    /* 2 × 5 season grid */
    .season-grid-2x5 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
    }
    .season-card-2x5 {
      position: relative;
      background: var(--card);
      border: 2px solid var(--border);
      border-radius: var(--radius);
      overflow: hidden;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      display: block;
    }
    .season-card-2x5:hover {
      border-color: var(--accent);
      transform: translateY(-4px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.45);
    }
    .season-card-img {
      width: 100%;
      height: 190px;
      object-fit: cover;
      display: block;
    }
    .season-card-overlay {
      position: absolute;
      bottom: 0; left: 0; right: 0;
      background: linear-gradient(to top, rgba(9,17,30,0.96) 0%, rgba(9,17,30,0.7) 55%, transparent 100%);
      padding: 28px 14px 13px;
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
    }
    .season-card-info { flex: 1; min-width: 0; }
    .season-card-title {
      font-size: 1rem;
      font-weight: 900;
      color: #fff;
      line-height: 1.2;
      text-shadow: 0 1px 4px rgba(0,0,0,0.8);
    }
    .season-card-meta {
      font-size: 0.74rem;
      color: rgba(255,255,255,0.65);
      margin-top: 3px;
    }
    .season-bm-btn {
      position: absolute;
      top: 8px; left: 8px;
      background: rgba(9,17,30,0.78);
      border: none;
      border-radius: 7px;
      padding: 5px 8px;
      font-size: 0.9rem;
      color: var(--muted);
      cursor: pointer;
      transition: var(--transition);
      backdrop-filter: blur(4px);
      line-height: 1;
      z-index: 5;
    }
    .season-bm-btn:hover { color: var(--gold); background: rgba(9,17,30,0.95); }
    .season-bm-btn.saved  { color: var(--gold); }

    /* Season number badge top-right */
    .season-num-badge {
      position: absolute;
      top: 8px; right: 8px;
      background: rgba(56,189,248,0.88);
      color: #0d1b2e;
      font-size: 0.7rem;
      font-weight: 900;
      padding: 3px 9px;
      border-radius: 12px;
      letter-spacing: 0.5px;
      backdrop-filter: blur(4px);
    }

    @media (max-width: 480px) {
      .season-card-img { height: 150px; }
    }
  </style>
</head>
<body>

<header class="topbar">
  <div class="topbar-left">
    <button class="btn-topbar-home" onclick="goHome()" title="Home">&#127968;</button>
    <div class="topbar-logo">
      <span class="logo-accent">Daily</span> <span class="logo-day">English</span>
    </div>
  </div>
  <div class="topbar-right">
    <a class="m2ea-link" href="https://www.m2eacircle.com/entertainment/index.html" target="_blank" rel="noopener">
      <span class="m2ea-icon">&#127760;</span>
      <span class="label">m2ea Circle</span>
    </a>
  </div>
</header>

<main>
  <div class="page-wrap">

    <nav class="nav-row">
      <button class="btn-nav home" onclick="goHome()">&#127968; Home</button>
      <button class="btn-nav" onclick="history.back()">&#9664; Back</button>
    </nav>

    <nav class="breadcrumb">
      <a href="../index.html">Home</a>
      <span class="sep">&#8250;</span>
      <span class="current">Friends</span>
    </nav>

    <!-- Show header -->
    <div class="page-header">
      <div class="page-header-thumb">
        <img src="../images/friends.jpg" alt="Friends"
          onerror="this.parentElement.innerHTML='&#128107;';">
      </div>
      <div class="page-header-info">
        <div class="page-header-title">Friends</div>
        <div class="page-header-meta">10 Seasons &middot; 236 Episodes total &middot; 1994&ndash;2004 &middot; Learn everyday English expressions from the iconic sitcom</div>
        <div class="page-header-actions">
          <button class="btn-bm" data-bm-id="show-friends"
            onclick="toggleBookmark('show','show-friends','&#128250; Friends','friends/index.html')">
            &#128278; Bookmark
          </button>
        </div>
      </div>
    </div>

    <!-- Bookmark Bar -->
    <div class="bookmark-bar" id="bookmarkBar">
      <div class="bookmark-bar-head">
        <span class="bm-icon">&#128278;</span>
        <span>Your Bookmarks</span>
      </div>
      <div class="bookmark-chips" id="bookmarkChips"></div>
    </div>

    <div class="section-label">&#127916; Select a Season</div>

    <!-- 2 × 5 Season Grid -->
    <div class="season-grid-2x5" id="seasonGrid"></div>

  </div>
</main>

<script src="../js/app.js"></script>
<script>
  function goHome() { window.location.href = '../index.html'; }

  var SEASON_META = {
    1:  { year: '1994\u20131995', eps: 24 },
    2:  { year: '1995\u20131996', eps: 24 },
    3:  { year: '1996\u20131997', eps: 25 },
    4:  { year: '1997\u20131998', eps: 24 },
    5:  { year: '1998\u20131999', eps: 24 },
    6:  { year: '1999\u20132000', eps: 25 },
    7:  { year: '2000\u20132001', eps: 24 },
    8:  { year: '2001\u20132002', eps: 24 },
    9:  { year: '2002\u20132003', eps: 24 },
    10: { year: '2003\u20132004', eps: 18 }
  };

  function buildSeasonGrid() {
    var grid = document.getElementById('seasonGrid');
    var html = '';

    for (var s = 1; s <= 10; s++) {
      var meta  = SEASON_META[s];
      var bmId  = 'season-friends-s' + s;
      var url   = 'seasons/season' + s + '.html';
      var imgSrc = 'images/season' + s + '.png';

      html += '<a class="season-card-2x5" href="' + url + '" aria-label="Season ' + s + '">';

      /* Season image */
      html += '<img class="season-card-img" src="' + imgSrc + '" alt="Season ' + s + '"'
            + ' onerror="this.style.display=\'none\';this.nextElementSibling.style.display=\'flex\'">';
      /* Fallback placeholder (hidden by default) */
      html += '<div style="display:none;width:100%;height:190px;align-items:center;justify-content:center;'
            + 'font-size:3rem;background:linear-gradient(135deg,var(--card2),var(--surface))">&#127909;</div>';

      /* Gradient overlay with title */
      html += '<div class="season-card-overlay">';
      html += '<div class="season-card-info">';
      html += '<div class="season-card-title">Season ' + s + '</div>';
      html += '<div class="season-card-meta">' + meta.year + ' &middot; ' + meta.eps + ' Episodes</div>';
      html += '</div></div>';

      /* Season number badge */
      html += '<span class="season-num-badge">S' + s + '</span>';

      /* Bookmark button */
      html += '<button class="season-bm-btn bm-corner" data-bm-id="' + bmId + '"'
            + ' onclick="event.preventDefault();event.stopPropagation();'
            + 'handleSeasonBm(' + s + ')" title="Bookmark Season ' + s + '">&#128278;</button>';

      html += '</a>';
    }

    grid.innerHTML = html;
    syncBookmarkButtons();
  }

  function handleSeasonBm(s) {
    var bmId  = 'season-friends-s' + s;
    var label = '&#127909; Friends Season ' + s;
    var url   = 'friends/seasons/season' + s + '.html';
    toggleBookmark('season', bmId, label, url);
  }

  window.addEventListener('DOMContentLoaded', function() {
    checkTermsGuard();
    buildSeasonGrid();
    renderBookmarkBar();
    syncBookmarkButtons();
  });
</script>

<footer class="site-footer">
  <div class="footer-copy">&copy; 2025 m2ea Labs. All rights reserved.</div>
  <div><button class="footer-terms" onclick="showTermsModal()">Terms of Use</button></div>
</footer>

<!-- Terms of Use Modal -->
<div id="termsModal" style="display:none;position:fixed;inset:0;z-index:900;background:rgba(9,17,30,0.88);overflow-y:auto;">
  <div style="max-width:580px;margin:40px auto;padding:0 16px 60px;">
    <div style="background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:26px 24px;position:relative;">
      <button onclick="closeTermsModal()" style="position:absolute;top:14px;right:16px;background:none;border:none;font-size:1.4rem;color:var(--muted);cursor:pointer;line-height:1;">&times;</button>
      <div style="text-align:center;margin-bottom:20px;">
        <div style="font-size:2.2rem;margin-bottom:8px;">&#128214;</div>
        <div style="font-size:1.2rem;font-weight:900;color:var(--accent);">Terms of Use</div>
        <div style="font-size:0.78rem;color:var(--muted);margin-top:4px;">Daily English &mdash; ONE Expression per DAY &nbsp;|&nbsp; by m2ea Labs</div>
      </div>
      <div style="background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:16px 18px;margin-bottom:14px;">
        <div style="font-size:0.82rem;font-weight:900;color:var(--accent2);margin-bottom:10px;">&#128204; Terms of Use</div>
        <ul style="list-style:none;padding:0;margin:0;">
          <li style="font-size:0.85rem;color:var(--text);line-height:1.75;padding:8px 0 8px 16px;border-bottom:1px solid var(--border);position:relative;">
            <span style="position:absolute;left:0;color:var(--accent);">&#9658;</span>
            This app is for <strong>study purposes only</strong>. All video clips&rsquo; rights belong to each respective company. If any company requests content removal, all contents can be removed without prior notice.
          </li>
          <li style="font-size:0.85rem;color:var(--text);line-height:1.75;padding:8px 0 8px 16px;border-bottom:1px solid var(--border);position:relative;">
            <span style="position:absolute;left:0;color:var(--accent);">&#9658;</span>
            You <strong>cannot use this content for any other purposes</strong>. Use is strictly limited to <strong>personal study only</strong>. Any commercial, redistribution, or other non-personal use is prohibited.
          </li>
          <li style="font-size:0.85rem;color:var(--text);line-height:1.75;padding:8px 0 0 16px;position:relative;">
            <span style="position:absolute;left:0;color:var(--accent);">&#9658;</span>
            All study contents and comments <strong>may contain incorrect or inaccurate information</strong>. All explanations and comments represent a <strong>m2ea Labs opinion</strong>. If you have a different idea or opinion, <em>you are right</em> &mdash; please use your own judgment.
          </li>
        </ul>
      </div>
      <div style="background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:16px 18px;margin-bottom:18px;">
        <div style="font-size:0.82rem;font-weight:900;color:var(--accent2);margin-bottom:10px;">&#8505;&#65039; About This App</div>
        <p style="font-size:0.85rem;color:var(--text);line-height:1.75;margin:0 0 8px;">Daily English connects short YouTube video clips to real English expressions used in popular TV shows. Each expression includes its meaning, an example sentence, and a link to a short video clip for context.</p>
        <p style="font-size:0.85rem;color:var(--text);line-height:1.75;margin:0;">This app is operated by <strong>m2ea Labs</strong> as a study group project. All video content remains the property of its original owners. YouTube video clips and shorts may include ads served by YouTube.</p>
      </div>
      <button onclick="closeTermsModal()" style="width:100%;background:linear-gradient(135deg,var(--accent),#0ea5e9);color:var(--bg);border:none;border-radius:10px;padding:13px;font-size:0.95rem;font-weight:900;cursor:pointer;font-family:inherit;">
        Close &nbsp;&times;
      </button>
    </div>
  </div>
</div>

<script>
  function showTermsModal() {
    document.getElementById('termsModal').style.display = 'block';
    document.body.style.overflow = 'hidden';
  }
  function closeTermsModal() {
    document.getElementById('termsModal').style.display = 'none';
    document.body.style.overflow = '';
  }
  // Close on backdrop click
  document.getElementById('termsModal').addEventListener('click', function(e) {
    if (e.target === this) closeTermsModal();
  });
</script>
</body>
</html>
