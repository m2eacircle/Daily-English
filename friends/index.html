<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Friends â€” Daily English</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<!-- â”€â”€ TOP BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<header class="topbar">
  <div class="topbar-left">
    <button class="btn-topbar-home" onclick="goHome()" title="Home" aria-label="Home">ğŸ </button>
    <div class="topbar-logo">
      <span class="logo-accent">Daily</span> <span class="logo-day">English</span>
    </div>
  </div>
  <div class="topbar-right">
    <a class="m2ea-link" href="https://www.m2eacircle.com/entertainment/index.html" target="_blank" rel="noopener">
      <span class="m2ea-icon">ğŸŒ</span>
      <span class="label">m2ea Circle</span>
    </a>
  </div>
</header>

<main>
  <div class="page-wrap">

    <!-- Nav Row -->
    <nav class="nav-row" aria-label="Page navigation">
      <button class="btn-nav home" onclick="goHome()">ğŸ  Home</button>
      <button class="btn-nav" onclick="history.back()">â—€ Back</button>
    </nav>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
      <a href="../index.html">Home</a>
      <span class="sep">â€º</span>
      <span class="current">Friends</span>
    </nav>

    <!-- Page Header -->
    <div class="page-header">
      <div class="page-header-thumb">
        <img src="../images/friends.jpg" alt="Friends"
          onerror="this.parentElement.textContent='ğŸ‘«';">
      </div>
      <div class="page-header-info">
        <div class="page-header-title">Friends</div>
        <div class="page-header-meta">10 Seasons Â· 24 Episodes each Â· 1994â€“2004 Â· Learn everyday English expressions from the iconic sitcom</div>
        <div class="page-header-actions">
          <button class="btn-bm" data-bm-id="show-friends"
            onclick="toggleBookmark('show','show-friends','ğŸ“º Friends','friends/index.html')">
            ğŸ”– Bookmark
          </button>
        </div>
      </div>
    </div>

    <!-- Bookmark Bar -->
    <div class="bookmark-bar" id="bookmarkBar">
      <div class="bookmark-bar-head">
        <span class="bm-icon">ğŸ”–</span>
        <span>Your Bookmarks</span>
      </div>
      <div class="bookmark-chips" id="bookmarkChips"></div>
    </div>

    <!-- Seasons -->
    <div class="section-label">Select a Season</div>
    <div class="season-grid" id="seasonGrid">
      <!-- Populated by JS -->
    </div>

  </div>
</main>

<script src="../js/app.js"></script>
<script src="friends-data.js"></script>
<script>
  function goHome() { window.location.href = '../index.html'; }

  function buildSeasonGrid() {
    const grid = document.getElementById('seasonGrid');
    let html = '';
    for (let s = 1; s <= FRIENDS_DATA.seasons; s++) {
      const meta  = FRIENDS_DATA.seasonMeta[s];
      const bmId  = `season-friends-s${s}`;
      const url   = `seasons/season${s}.html`;
      const bgGrad = meta.color ? `background: linear-gradient(135deg, #${meta.color.replace(/,/g,'%, #')}%)` : '';

      html += `
        <a class="season-card" href="${url}" aria-label="Friends Season ${s}">
          <button class="bm-corner" data-bm-id="${bmId}"
            onclick="event.preventDefault(); event.stopPropagation();
                     toggleBookmark('season','${bmId}','ğŸ¬ Friends Season ${s}','friends/${url}')"
            title="Bookmark Season ${s}" aria-label="Bookmark Season ${s}">ğŸ”–</button>
          ${meta.image
            ? `<img class="season-card-img" src="images/season${s}.jpg" alt="Season ${s}"
                onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
               <div class="season-card-placeholder" style="display:none; ${bgGrad}">Season ${s}</div>`
            : `<div class="season-card-placeholder" style="${bgGrad}">Season ${s}</div>`}
          <div class="season-card-body">
            <div class="season-card-title">Season ${s}</div>
            <div class="season-card-meta">${meta.year} Â· 24 Episodes</div>
          </div>
        </a>
      `;
    }
    grid.innerHTML = html;
    syncBookmarkButtons();
  }

  window.addEventListener('DOMContentLoaded', () => {
    checkTermsGuard();
    buildSeasonGrid();
    renderBookmarkBar();
  });
</script>
</body>
</html>
